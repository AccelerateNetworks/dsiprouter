{% extends 'table_layout.html' %}

{% block title %}Number Enrichment{% endblock %}

{% block custom_css %}
{% endblock %}

{% block table_headers %}
  <div>
    <h3>Number Enrichment Rules</h3>
  </div>

  <div class="tableAddButton">
    <div class="btn-group mr-2">
      <button id='open-add-modal' class='btn btn-success btn-md' data-title="Add" data-toggle="modal"
              data-target="#add">
        Add
      </button>
    </div>
  </div>
{% endblock %}


{% block table %}
  <table id="dnid-enrichment-table" class="table table-striped table-centered">
    <thead>
    <tr class='element-row'>
      <th data-field="rule_id">Rule ID</th>
      <th data-field="dnid">Dialed Number</th>
<!--
      <th data-field="country_code">Country Code</th>
      <th data-field="routing_number">Routing Number</th>
-->
      <th data-field="rule_name">Name</th>
    </tr>
    </thead>
    <tbody>
    </tbody>
  </table>
{% endblock %}


{% block edit_modal %}

  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><span
        class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
    <h4 class="modal-title custom_align" id="Heading">Edit Enrichment Rule
      <button id="open-delete-modal" class="btn btn-danger btn-xs" data-title="Delete"
              data-toggle="modal" data-target="#delete">
        <span class="glyphicon glyphicon-trash"></span>
      </button>
    </h4>
  </div>

  <div class="modal-body">
    <form action="/numberenrichment" data-method="PUT" role="form">
      <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
      <input class="rule_id" type="hidden" name="rule_id">

      <div class="form-group">
        <input class="rule_name form-control" type="text" name="rule_name" placeholder="Friendly Name (Optional)"
               autofocus="autofocus">
      </div>

      <div class="form-group">
        <input class="dnid form-control" type="text" name="dnid" placeholder="Dialed Number to Match"
               autocomplete="off">
      </div>

      <div class="form-group">
        <input class="country_code form-control" type="text" name="country_code" placeholder="Country Code to Prepend"
               autocomplete="off">
      </div>

      <div class="form-group">
        <input class="routing_number form-control" type="text" name="routing_number"
               placeholder="Routing / Area Code to Prepend"
               autocomplete="off">
      </div>

      <div class="modal-footer">
        <button type="submit" id="submit-update-form" class="submit-btn btn btn-warning btn-lg" style="width: 100%;"><span
            class="glyphicon glyphicon-ok-sign"></span> Update
        </button>
      </div>
    </form>
  </div>

{% endblock %}


{% block add_modal %}

  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><span
        class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
    <h4 class="modal-title custom_align" id="Heading">Add Enrichment Rule</h4>
  </div>

  <div class="modal-body">
    <form action="/numberenrichment" data-method="POST" role="form">
      <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
      <input class="rule_id" type="hidden" name="rule_id">

      <div class="form-group">
        <input class="rule_name form-control" type="text" name="rule_name" placeholder="Friendly Name (Optional)"
               autofocus="autofocus">
      </div>

      <div class="form-group">
        <input class="dnid form-control" type="text" name="dnid" placeholder="Dialed Number to Match"
               autocomplete="off">
      </div>

      <div class="form-group">
        <input class="country_code form-control" type="text" name="country_code" placeholder="Country Code to Prepend"
               autocomplete="off">
      </div>

      <div class="form-group">
        <input class="routing_number form-control" type="text" name="routing_number"
               placeholder="Routing / Area Code to Prepend"
               autocomplete="off">
      </div>

      <div class="modal-footer ">
        <button type="submit" id="submit-add-form" class="submit-btn btn btn-success btn-lg" style="width: 100%;"><span
            class="glyphicon glyphicon-ok-sign"></span> Add
        </button>
      </div>
    </form>
  </div>

{% endblock %}


{% block delete_modal %}

  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><span
        class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
    <h4 class="modal-title custom_align" id="Heading">Delete Enrichment Rule</h4>
  </div>

  <div class="modal-body">
    <form action="/numberenrichment" data-method="DELETE" role="form">
      <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
      <input class="rule_id form-control" type="hidden" name="rule_id">

      <div class="alert alert-danger"><span class="glyphicon glyphicon-warning-sign"></span> Are you sure you want
        to delete this Enrichment Rule?
      </div>

      <div class="modal-footer ">
        <button id="submit-delete-form" type="button" class="btn btn-success"><span
            class="glyphicon glyphicon-ok-sign" autofocus="autofocus"></span> Yes
        </button>
        <button type="button" class="submit-btn btn btn-default" data-dismiss="modal"><span
            class="glyphicon glyphicon-remove"></span> No
        </button>
      </div>
    </form>
  </div>

{% endblock %}

{% block custom_js %}
  {{ script_tag('dnid_enrichment') }}
{% endblock %}

